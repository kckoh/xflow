apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
data:
  MONGODB_DATABASE: "xflow"
  CORS_ORIGINS: "http://localhost:5173,https://xflows.net"
  # Airflow DAG ID: dataset_dag_k8s for production (EKS with Spark on K8s)
  AIRFLOW_DAG_ID: "dataset_dag_k8s"
  # Disable Neo4j for now
  NEO4J_URI: ""
  # OpenSearch configuration
  OPENSEARCH_HOST: "opensearch.xflow"
  OPENSEARCH_PORT: "9200"
  # AWS/S3 configuration
  ENVIRONMENT: "production"
  AWS_REGION: "ap-northeast-2"
  # Kafka Connect configuration
  KAFKA_CONNECT_URL: "http://kafka-connect:8083"
  KAFKA_BOOTSTRAP_SERVERS: "xflow-kafka-kafka-bootstrap.kafka:9092"
  # Spark configuration for CDC
  SPARK_IMAGE: "134059028370.dkr.ecr.ap-northeast-2.amazonaws.com/xflow-spark:latest"
  SPARK_NAMESPACE: "spark-jobs"
  USE_S3: "true"
  # Redis Stack configuration (for session & semantic cache)
  REDIS_HOST: "redis-stack"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: ""
  # Semantic Cache configuration
  SEMANTIC_CACHE_ENABLED: "true"
  SEMANTIC_CACHE_THRESHOLD: "0.95"
  # Bedrock configuration
  BEDROCK_MODEL_ID: "global.anthropic.claude-haiku-4-5-20251001-v1:0"
  BEDROCK_EMBEDDING_MODEL_ID: "amazon.titan-embed-text-v2:0"
